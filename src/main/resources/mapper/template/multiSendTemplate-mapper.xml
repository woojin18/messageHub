<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="multiSendTemplate">

	<sql id ="whereSelectMultiSendTemplateList">
		AND A.TMPLT_TYPE = 'M'
		AND (A.PROJECT_ID = #{projectId} || A.PROJECT_ID = 'ALL')
		<if test='pushYn == "N"'>
		AND A.TMPLT_INFO ->> '$[0].chTypeList' NOT LIKE CONCAT('%', UPPER('PUSH'), '%')
		</if>
		<if test='rcsYn == "N"'>
		AND A.TMPLT_INFO ->> '$[0].chTypeList' NOT LIKE CONCAT('%', UPPER('RCS'), '%')
		</if>
		<if test='kakaoYn == "N"'>
		AND A.TMPLT_INFO ->> '$[0].chTypeList' NOT LIKE CONCAT('%', UPPER('KAKAO'), '%')
		</if>
		<if test='smsmmsYn == "N"'>
		AND A.TMPLT_INFO ->> '$[0].chTypeList' NOT LIKE CONCAT('%', UPPER('SMSMMS'), '%')
		</if>
		<if test="searchText != '' and searchText != null ">
			<if test="searchCondi == 'templateTitle' ">
			AND A.TMPLT_TITLE LIKE CONCAT('%', #{searchText}, '%')
			</if>
			<if test="searchCondi == 'templateChannel' ">
			AND A.TMPLT_INFO ->> '$[0].chTypeList' LIKE CONCAT('%', #{searchText}, '%')
			</if>
		</if>
		<if test="searchMsgKindCd != null and searchMsgKindCd.size != 0 ">
			AND A.MSG_KIND IN <foreach collection="searchMsgKindCd" item="item" index="index"  open="(" close=")" separator=",">#{item}</foreach>
		</if>
		<if test="searchMsgCh != null and searchMsgCh.size != 0 ">
			AND (
				1=2
				<foreach collection="searchMsgCh" item="item">
				OR UPPER(JSON_EXTRACT(A.TMPLT_INFO, '$[*].ch')) LIKE CONCAT('%', UPPER(#{item}), '%')
				</foreach>
			)
		</if>
		<if test="searchTmpltStatus != null and searchTmpltStatus.size != 0 ">
			AND A.TMPLT_STATUS IN <foreach collection="searchTmpltStatus" item="item" index="index"  open="(" close=")" separator=",">#{item}</foreach>
		</if>
		<if test="searchStartDate != '' and searchStartDate != null ">
			<if test="searchEndDate != '' and searchEndDate != null ">
			AND A.REG_DT BETWEEN CONCAT(#{searchStartDate}, ' 00:00:00') AND CONCAT(#{searchEndDate}, ' 23:59:59')
			</if>
		</if>
	</sql>

    <select id="selectMultiSendTemplateListCnt" parameterType="hashmap" resultType="int">
		/* 통합발송 템플릿 카운트 조회 */
		SELECT
			COUNT(PROJECT_ID) AS CNT
		FROM cm.CM_SMART_TMPLT A
		WHERE 1=1
		<include refid="whereSelectMultiSendTemplateList"/>
	</select>

	<select id="selectMultiSendTemplateList" parameterType="hashmap" resultType="camel">
		/* 통합발송 템플릿 리스트 조회 */
		SELECT
			@ROWNUM := @ROWNUM + 1 AS ROWNUM,
			B.*
		FROM (
			SELECT
				A.PROJECT_ID,
				CASE
					WHEN A.PROJECT_ID = 'ALL' THEN 'Y'
					ELSE 'N'
				END AS OTHER_PROJECT_USE_YN,
				CASE
					WHEN A.PROJECT_ID = 'ALL' THEN '공용'
					ELSE '전용'
				END AS OTHER_PROJECT_USE_YN_NAME,
				A.TMPLT_CODE,
				A.MSG_KIND,
				C.CODE_NAME_1 AS MSG_KIND_NAME,
				A.MSG_TYPE,
				D.CODE_NAME_1 AS MSG_TYPE_NAME,
				A.TMPLT_TITLE,
				A.TMPLT_INFO,
				A.TMPLT_TYPE,
				E.CODE_NAME_1 AS TMPLT_STATUS_NAME,
				A.TMPLT_INFO ->> '$[0].chTypeList' AS TMPLT_CHANNEL,
				JSON_EXTRACT(A.TMPLT_INFO, '$[*].ch') CHECKED_CHANNEL,
				A.REG_ID,
				cm_console.fnc_get_user_name(A.REG_ID)  AS REG_NM,
				DATE_FORMAT(A.REG_DT, '%Y-%m-%d %H:%i:%S') AS REG_DT
			FROM cm.CM_SMART_TMPLT A
				LEFT OUTER JOIN cm_bo.CM_CODE C
					ON A.MSG_KIND = C.CODE_VAL_1 AND C.CODE_TYPE_CD = 'MSG_KIND'
				LEFT OUTER JOIN cm_bo.CM_CODE D
					ON A.MSG_TYPE = D.CODE_VAL_1 AND D.CODE_TYPE_CD = 'MSG_TYPE'
				LEFT OUTER JOIN cm_bo.CM_CODE E
					ON A.TMPLT_STATUS = E.CODE_VAL_1 AND E.CODE_TYPE_CD = 'MULTISEND_TMPLT_STATUS'
				, (SELECT @ROWNUM:=0) TMP
			WHERE 1=1
			<include refid="whereSelectMultiSendTemplateList"/>
			ORDER BY A.REG_DT DESC
		) B
		<if test='pagingYn == "Y" '>
		LIMIT #{offset}, #{listSize}
		</if>
    </select>


    <select id="selectMultiSendTemplateDetail" parameterType="hashmap" resultType="camel">
		/* integratedTemplate.selectMultiSendTemplateDetail - 통합발송 템플릿 상세 조회 */
		SELECT
			M.PROJECT_ID, M.TMPLT_CODE, M.MSG_KIND, M.MSG_KIND_NAME, M.MSG_TYPE,
			M.MSG_TYPE_NAME, M.TMPLT_TITLE, M.TMPLT_TYPE, M.otherProjectUseYn,
			M.USE_YN, M.TMPLT_STATUS, M.chTypeList, M.CHECKED_CHANNEL,
			M.pushMsg, M.pushAppId, M.pushTitle, M.pushFileId, M.pushSendType, M.PUSH_RCVBLC_INPUT,
			M.ADTN_INFO, M.PUSH_CH_IMG_URL,
			M.rcsCardCount, M.rcsStyleCount, M.rcsStyleContent, M.rcsPrdType, M.rcsDesFormNm, M.rcsStyleFormNm, M.rcsCallback, M.rcsMessagebaseId, M.rcsMessagebaseformId, M.rcsBlockNumber, M.rcsBrandNm,
			M.rcs0Media, M.rcs0MediaUrl, M.rcs0Title, M.rcs0Content,
			M.rcs1Media, M.rcs1MediaUrl, M.rcs1Title, M.rcs1Content,
			M.rcs2Media, M.rcs2MediaUrl, M.rcs2Title, M.rcs2Content,
			M.rcs3Media, M.rcs3MediaUrl, M.rcs3Title, M.rcs3Content,
			M.rcs4Media, M.rcs4MediaUrl, M.rcs4Title, M.rcs4Content,
			M.rcs5Media, M.rcs5MediaUrl, M.rcs5Title, M.rcs5Content,
			M.rcsButton0Data, M.rcsButton1Data, M.rcsButton2Data, M.rcsButton3Data, M.rcsButton4Data, M.rcsButton5Data,
			M.friendTalkSenderKeyType, M.friendTalkSenderKey, M.friendTalkWideImageYn, M.friendTalkContent, M.friendTalkFileId, M.friendTalkImgUrl, M.friendTalkImageLink, M.friendTalkPrdType,
			M.friendTalkButton0Type,
			CONCAT('{','\"type\":\"'	, IFNULL(M.friendTalkButton0Type,'')		,'\"'
							,',\"name\":\"'	, IFNULL(M.friendTalkButton0Name,'')	,'\"'
							,',\"linkUrl1\":\"'	, IFNULL(M.friendTalkButton0LinkUrl1,'')			,'\"'
							,',\"linkUrl2\":\"'	, IFNULL(M.friendTalkButton0LinkUrl2,'')	,'\"}') AS friendTalkButtonArr0,
			M.friendTalkButton1Type,
			CONCAT('{','\"type\":\"'	, IFNULL(M.friendTalkButton1Type,'')		,'\"'
							,',\"name\":\"'	, IFNULL(M.friendTalkButton1Name,'')	,'\"'
							,',\"linkUrl1\":\"'	, IFNULL(M.friendTalkButton1LinkUrl1,'')			,'\"'
							,',\"linkUrl2\":\"'	, IFNULL(M.friendTalkButton1LinkUrl2,'')	,'\"}') AS friendTalkButtonArr1,
			M.friendTalkButton2Type,
			CONCAT('{','\"type\":\"'	, IFNULL(M.friendTalkButton2Type,'')		,'\"'
							,',\"name\":\"'	, IFNULL(M.friendTalkButton2Name,'')	,'\"'
							,',\"linkUrl1\":\"'	, IFNULL(M.friendTalkButton2LinkUrl1,'')			,'\"'
							,',\"linkUrl2\":\"'	, IFNULL(M.friendTalkButton2LinkUrl2,'')	,'\"}') AS friendTalkButtonArr2,
			M.friendTalkButton3Type,
			CONCAT('{','\"type\":\"'	, IFNULL(M.friendTalkButton3Type,'')		,'\"'
							,',\"name\":\"'	, IFNULL(M.friendTalkButton3Name,'')	,'\"'
							,',\"linkUrl1\":\"'	, IFNULL(M.friendTalkButton3LinkUrl1,'')			,'\"'
							,',\"linkUrl2\":\"'	, IFNULL(M.friendTalkButton3LinkUrl2,'')	,'\"}') AS friendTalkButtonArr3,
			M.friendTalkButton4Type,
			CONCAT('{','\"type\":\"'	, IFNULL(M.friendTalkButton4Type,'')		,'\"'
							,',\"name\":\"'	, IFNULL(M.friendTalkButton4Name,'')	,'\"'
							,',\"linkUrl1\":\"'	, IFNULL(M.friendTalkButton4LinkUrl1,'')			,'\"'
							,',\"linkUrl2\":\"'	, IFNULL(M.friendTalkButton4LinkUrl2,'')	,'\"}') AS friendTalkButtonArr4,
			M.alimTalkSenderKey, M.alimTalkTmpltName, M.alimTalkEmphasizeType, M.alimTalkTmpltEmpsTitle, M.alimTalkTmpltEmpsSubTitle, M.alimTalkTmpltContent, M.alimTalkPrdType,
			M.alimTalkButton0Type,
			CONCAT('{','\"linkType\":\"'	, IFNULL(M.alimTalkButton0Type,'')		,'\"'
							,',\"name\":\"'	, IFNULL(M.alimTalkButton0Name,'')	,'\"'
							,',\"linkMo\":\"'	, IFNULL(M.alimTalkButton0LinkMo,'')			,'\"'
							,',\"linkPc\":\"'	, IFNULL(M.alimTalkButton0LinkPc,'')			,'\"'
							,',\"linkAnd\":\"'	, IFNULL(M.alimTalkButton0LinkAnd,'')			,'\"'
							,',\"linkIos\":\"'	, IFNULL(M.alimTalkButton0LinkIos,'')	,'\"}') AS alimTalkButtonArr0,
			M.smsSendType, M.smsCallback, M.smsContent, M.smsRcvblcNumber, M.smsTitle, M.smsFileId0, M.smsFileId1,
			M.MMS_CH_IMG_URL0,
			M.MMS_CH_IMG_URL1
		FROM (
			SELECT
				T.PROJECT_ID, T.TMPLT_CODE, T.MSG_KIND, T.MSG_KIND_NAME, T.MSG_TYPE,
				T.MSG_TYPE_NAME, T.TMPLT_TITLE, T.TMPLT_INFO, T.TMPLT_TYPE, T.otherProjectUseYn,
				T.USE_YN, T.TMPLT_STATUS, T.chTypeList, T.CHECKED_CHANNEL,
				T.pushMsg, T.pushAppId, T.pushTitle, T.pushFileId, T.pushSendType, T.PUSH_RCVBLC_INPUT, T.ADTN_INFO,
				@PUSH_PATH_TO_NAME := JSON_UNQUOTE(JSON_SEARCH(B.USE_CH_INFO, "one", 'PUSH', NULL, '$[*].CH')) AS PUSH_PATH_TO_NAME,
				@PUSH_PATH_TO_PARENT := TRIM(TRAILING '.CH' FROM @PUSH_PATH_TO_NAME) AS PUSH_PATH_TO_PARENT,
				@PUSH_CH_OBJECT := JSON_EXTRACT(B.USE_CH_INFO, @PUSH_PATH_TO_PARENT) AS PUSH_CH_OBJECT,
				@PUSH_CH_IMG_URL := JSON_UNQUOTE(JSON_EXTRACT(@PUSH_CH_OBJECT, '$.URL')) AS PUSH_CH_IMG_URL,
				T.rcsCardCount, T.rcsStyleCount, T.rcsStyleContent, T.rcsPrdType, T.rcsDesFormNm, T.rcsStyleFormNm, T.rcsCallback, T.rcsMessagebaseId, T.rcsMessagebaseformId, T.rcsBlockNumber, T.rcsBrandNm,
				T.rcs0Media, T.rcs0Title, T.rcs0Content,
				CASE
					WHEN rcs0MediaUrl = '{}' then ''
					ELSE replace(replace(T.rcs0MediaUrl,'{',''),'}','')
				END AS rcs0MediaUrl,
				T.rcs1Media, T.rcs1Title, T.rcs1Content,
				CASE
					WHEN rcs1MediaUrl = '{}' then ''
					ELSE replace(replace(T.rcs1MediaUrl,'{',''),'}','')
				END AS rcs1MediaUrl,
				T.rcs2Media, T.rcs2Title, T.rcs2Content,
				CASE
					WHEN rcs2MediaUrl = '{}' then ''
					ELSE replace(replace(T.rcs2MediaUrl,'{',''),'}','')
				END AS rcs2MediaUrl,
				T.rcs3Media, T.rcs3Title, T.rcs3Content,
				CASE
					WHEN rcs3MediaUrl = '{}' then ''
					ELSE replace(replace(T.rcs3MediaUrl,'{',''),'}','')
				END AS rcs3MediaUrl,
				T.rcs4Media, T.rcs4Title, T.rcs4Content,
				CASE
					WHEN rcs4MediaUrl = '{}' then ''
					ELSE replace(replace(T.rcs4MediaUrl,'{',''),'}','')
				END AS rcs4MediaUrl,
				T.rcs5Media, T.rcs5Title, T.rcs5Content,
				CASE
					WHEN rcs5MediaUrl = '{}' then ''
					ELSE replace(replace(T.rcs5MediaUrl,'{',''),'}','')
				END AS rcs5MediaUrl,
				T.rcsButton0Data,
				T.rcsButton1Data,
				T.rcsButton2Data,
				T.rcsButton3Data,
				T.rcsButton4Data,
				T.rcsButton5Data,
				T.friendTalkSenderKeyType, T.friendTalkSenderKey, T.friendTalkWideImageYn, T.friendTalkContent, T.friendTalkFileId, T.friendTalkImgUrl, T.friendTalkImageLink, T.friendTalkPrdType,
				T.friendTalkButton0Type, T.friendTalkButton0Name, T.friendTalkButton0LinkUrl1, T.friendTalkButton0LinkUrl2,
				T.friendTalkButton1Type, T.friendTalkButton1Name, T.friendTalkButton1LinkUrl1, T.friendTalkButton1LinkUrl2,
				T.friendTalkButton2Type, T.friendTalkButton2Name, T.friendTalkButton2LinkUrl1, T.friendTalkButton2LinkUrl2,
				T.friendTalkButton3Type, T.friendTalkButton3Name, T.friendTalkButton3LinkUrl1, T.friendTalkButton3LinkUrl2,
				T.friendTalkButton4Type, T.friendTalkButton4Name, T.friendTalkButton4LinkUrl1, T.friendTalkButton4LinkUrl2,
				T.alimTalkSenderKey, T.alimTalkTmpltName, T.alimTalkEmphasizeType, T.alimTalkTmpltEmpsTitle, T.alimTalkTmpltEmpsSubTitle, T.alimTalkTmpltContent, T.alimTalkPrdType,
				T.alimTalkButton0Type, T.alimTalkButton0Name, T.alimTalkButton0LinkMo, T.alimTalkButton0LinkPc, T.alimTalkButton0LinkAnd, T.alimTalkButton0LinkIos,
				T.smsSendType, T.smsCallback, T.smsContent, T.smsRcvblcNumber, T.smsTitle, T.smsFileId0, T.smsFileId1,
				@MMS_PATH_TO_NAME0 := JSON_UNQUOTE(JSON_SEARCH(sms0.USE_CH_INFO, "one", 'MMS', NULL, '$[*].CH')) AS MMS_PATH_TO_NAME0,
				@MMS_PATH_TO_PARENT0 := TRIM(TRAILING '.CH' FROM @MMS_PATH_TO_NAME0) AS MMS_PATH_TO_PARENT0,
				@MMS_CH_OBJECT0 := JSON_EXTRACT(sms0.USE_CH_INFO, @MMS_PATH_TO_PARENT0) AS MMS_CH_OBJECT0,
				@MMS_CH_IMG_URL0 := JSON_UNQUOTE(JSON_EXTRACT(@MMS_CH_OBJECT0, '$.URL')) AS MMS_CH_IMG_URL0,
				@MMS_PATH_TO_NAME1 := JSON_UNQUOTE(JSON_SEARCH(sms1.USE_CH_INFO, "one", 'MMS', NULL, '$[*].CH')) AS MMS_PATH_TO_NAME1,
				@MMS_PATH_TO_PARENT1 := TRIM(TRAILING '.CH' FROM @MMS_PATH_TO_NAME1) AS MMS_PATH_TO_PARENT1,
				@MMS_CH_OBJECT1 := JSON_EXTRACT(sms1.USE_CH_INFO, @MMS_PATH_TO_PARENT1) AS MMS_CH_OBJECT1,
				@MMS_CH_IMG_URL1 := JSON_UNQUOTE(JSON_EXTRACT(@MMS_CH_OBJECT1, '$.URL')) AS MMS_CH_IMG_URL1
			FROM (
				SELECT
					A.PROJECT_ID,
					A.TMPLT_CODE,
					A.MSG_KIND,
					CASE
						WHEN A.MSG_KIND = 'I' THEN '정보성'
						WHEN A.MSG_KIND = 'A' THEN '광고성'
					END AS MSG_KIND_NAME,
					A.MSG_TYPE,
					CASE
						WHEN A.MSG_TYPE = 'IMAGE' THEN '텍스트'
						WHEN A.MSG_TYPE = 'BASE' THEN '이미지'
					END AS MSG_TYPE_NAME,
					A.TMPLT_TITLE,
					A.TMPLT_INFO,
					A.TMPLT_TYPE,
					CASE
						WHEN  A.PROJECT_ID = 'ALL' THEN 'Y'
						ELSE 'N'
					END AS otherProjectUseYn,
					A.USE_YN,
					A.TMPLT_STATUS,
					A.TMPLT_INFO ->> '$[0].chTypeList' AS chTypeList,
					REPLACE(REPLACE(REPLACE(JSON_EXTRACT(A.TMPLT_INFO, '$[*].ch'),'[',''),']',''),'"','') CHECKED_CHANNEL,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[0].data.msg'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[1].data.msg'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[2].data.msg'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[3].data.msg'
						ELSE ''
					END AS pushMsg,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[0].data.appId'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[1].data.appId'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[2].data.appId'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[3].data.appId'
						ELSE ''
					END AS pushAppId,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[0].data.title'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[1].data.title'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[2].data.title'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[3].data.title'
						ELSE ''
					END AS pushTitle,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[0].data.fileId'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[1].data.fileId'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[2].data.fileId'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[3].data.fileId'
						ELSE ''
					END AS pushFileId,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[0].data.serviceCode'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[1].data.serviceCode'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[2].data.serviceCode'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[3].data.serviceCode'
						ELSE ''
					END AS pushSendType,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[0].data.rcvblcInput'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[1].data.rcvblcInput'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[2].data.rcvblcInput'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[3].data.rcvblcInput'
						ELSE ''
					END AS PUSH_RCVBLC_INPUT,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[0].data.ext.data1'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[1].data.ext.data1'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[2].data.ext.data1'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'PUSH' then A.TMPLT_INFO ->> '$[3].data.ext.data1'
						ELSE ''
					END AS ADTN_INFO,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then JSON_LENGTH(A.TMPLT_INFO ->> '$[0].data.mergeData')
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then JSON_LENGTH(A.TMPLT_INFO ->> '$[1].data.mergeData')
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then JSON_LENGTH(A.TMPLT_INFO ->> '$[2].data.mergeData')
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then JSON_LENGTH(A.TMPLT_INFO ->> '$[3].data.mergeData')
						ELSE 0
					END AS rcsCardCount,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then JSON_LENGTH(A.TMPLT_INFO ->> '$[0].data.mergeData[0].content')
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then JSON_LENGTH(A.TMPLT_INFO ->> '$[1].data.mergeData[0].content')
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then JSON_LENGTH(A.TMPLT_INFO ->> '$[2].data.mergeData[0].content')
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then JSON_LENGTH(A.TMPLT_INFO ->> '$[3].data.mergeData[0].content')
						ELSE 0
					END AS rcsStyleCount,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[0]'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[0]'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[0]'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[0]'
						ELSE 0
					END AS rcsStyleContent,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.messagebaseId'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.messagebaseId'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.messagebaseId'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.messagebaseId'
						ELSE ''
					END AS rcsMessagebaseId,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.messagebaseformId'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.messagebaseformId'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.messagebaseformId'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.messagebaseformId'
						ELSE ''
					END AS rcsMessagebaseformId,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.brandNm'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.brandNm'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.brandNm'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.brandNm'
						ELSE ''
					END AS rcsBrandNm,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.rcsPrdType'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.rcsPrdType'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.rcsPrdType'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.rcsPrdType'
						ELSE ''
					END AS rcsPrdType,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.rcsDesFormNm'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.rcsDesFormNm'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.rcsDesFormNm'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.rcsDesFormNm'
						ELSE ''
					END AS rcsDesFormNm,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.rcsStyleFormNm'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.rcsStyleFormNm'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.rcsStyleFormNm'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.rcsStyleFormNm'
						ELSE ''
					END AS rcsStyleFormNm,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.callback'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.callback'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.callback'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.callback'
						ELSE ''
					END AS rcsCallback,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.footer'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.footer'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.footer'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.footer'
						ELSE ''
					END AS rcsBlockNumber,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[0].media'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[0].media'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[0].media'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[0].media'
						ELSE ''
					END AS rcs0Media,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[0].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[0].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[0].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[0].mediaUrl'
						ELSE ''
					END AS rcs0MediaUrl,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[0].title'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[0].title'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[0].title'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[0].title'
						ELSE ''
					END AS rcs0Title,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[0].description'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[0].description'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[0].description'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[0].description'
						ELSE ''
					END AS rcs0Content,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[1].media'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[1].media'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[1].media'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[1].media'
						ELSE ''
					END AS rcs1Media,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[1].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[1].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[1].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[1].mediaUrl'
						ELSE ''
					END AS rcs1MediaUrl,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[1].title'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[1].title'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[1].title'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[1].title'
						ELSE ''
					END AS rcs1Title,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[1].description'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[1].description'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[1].description'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[1].description'
						ELSE ''
					END AS rcs1Content,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[2].media'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[2].media'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[2].media'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[2].media'
						ELSE ''
					END AS rcs2Media,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[2].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[2].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[2].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[2].mediaUrl'
						ELSE ''
					END AS rcs2MediaUrl,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[2].title'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[2].title'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[2].title'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[2].title'
						ELSE ''
					END AS rcs2Title,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[2].description'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[2].description'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[2].description'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[2].description'
						ELSE ''
					END AS rcs2Content,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[3].media'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[3].media'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[3].media'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[3].media'
						ELSE ''
					END AS rcs3Media,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[3].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[3].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[3].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[3].mediaUrl'
						ELSE ''
					END AS rcs3MediaUrl,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[3].title'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[3].title'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[3].title'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[3].title'
						ELSE ''
					END AS rcs3Title,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[3].description'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[3].description'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[3].description'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[3].description'
						ELSE ''
					END AS rcs3Content,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[4].media'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[4].media'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[4].media'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[4].media'
						ELSE ''
					END AS rcs4Media,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[4].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[4].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[4].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[4].mediaUrl'
						ELSE ''
					END AS rcs4MediaUrl,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[4].title'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[4].title'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[4].title'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[4].title'
						ELSE ''
					END AS rcs4Title,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[4].description'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[4].description'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[4].description'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[4].description'
						ELSE ''
					END AS rcs4Content,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[5].media'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[5].media'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[5].media'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[5].media'
						ELSE ''
					END AS rcs5Media,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[5].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[5].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[5].mediaUrl'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[5].mediaUrl'
						ELSE ''
					END AS rcs5MediaUrl,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[5].title'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[5].title'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[5].title'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[5].title'
						ELSE ''
					END AS rcs5Title,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.mergeData[5].description'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.mergeData[5].description'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.mergeData[5].description'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.mergeData[5].description'
						ELSE ''
					END AS rcs5Content,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.buttons[0]'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.buttons[0]'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.buttons[0]'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.buttons[0]'
						ELSE ''
					END AS rcsButton0Data,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.buttons[1]'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.buttons[1]'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.buttons[1]'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.buttons[1]'
						ELSE ''
					END AS rcsButton1Data,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.buttons[2]'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.buttons[2]'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.buttons[2]'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.buttons[2]'
						ELSE ''
					END AS rcsButton2Data,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.buttons[3]'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.buttons[3]'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.buttons[3]'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.buttons[3]'
						ELSE ''
					END AS rcsButton3Data,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.buttons[4]'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.buttons[4]'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.buttons[4]'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.buttons[4]'
						ELSE ''
					END AS rcsButton4Data,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'RCS' then A.TMPLT_INFO ->> '$[0].data.buttons[5]'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'RCS' then A.TMPLT_INFO ->> '$[1].data.buttons[5]'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'RCS' then A.TMPLT_INFO ->> '$[2].data.buttons[5]'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'RCS' then A.TMPLT_INFO ->> '$[3].data.buttons[5]'
						ELSE ''
					END AS rcsButton5Data,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then 'FRIENDTALK'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then 'FRIENDTALK'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then 'FRIENDTALK'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then 'FRIENDTALK'
						ELSE ''
					END AS friendTalkPrdType,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.senderKeyType'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.senderKeyType'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.senderKeyType'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.senderKeyType'
						ELSE ''
					END AS friendTalkSenderKeyType,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.senderKey'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.senderKey'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.senderKey'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.senderKey'
						ELSE ''
					END AS friendTalkSenderKey,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.wideImageYn'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.wideImageYn'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.wideImageYn'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.wideImageYn'
						ELSE ''
					END AS friendTalkWideImageYn,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.msg'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.msg'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.msg'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.msg'
						ELSE ''
					END AS friendTalkContent,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.fileId'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.fileId'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.fileId'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.fileId'
						ELSE ''
					END AS friendTalkFileId,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.image.imageUrl'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.image.imageUrl'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.image.imageUrl'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.image.imageUrl'
						ELSE ''
					END AS friendTalkImgUrl,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.image.imageLink'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.image.imageLink'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.image.imageLink'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.image.imageLink'
						ELSE ''
					END AS friendTalkImageLink,
					@friendTalkButton0Type :=
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[0].linkType'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[0].linkType'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[0].linkType'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[0].linkType'
							ELSE ''
						END AS friendTalkButton0Type,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[0].name'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[0].name'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[0].name'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[0].name'
							ELSE ''
						END AS friendTalkButton0Name,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[0].linkMo'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[0].linkMo'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[0].linkMo'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[0].linkMo'
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[0].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[0].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[0].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[0].linkAnd'
							ELSE ''
						END AS friendTalkButton0LinkUrl1,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[0].linkPc'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[0].linkPc'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[0].linkPc'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[0].linkPc'
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[0].linkIos'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[0].linkIos'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[0].linkIos'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[0].linkIos'
							ELSE ''
						END AS friendTalkButton0LinkUrl2,
					@friendTalkButton1Type :=
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[1].linkType'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[1].linkType'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[1].linkType'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[1].linkType'
							ELSE ''
						END AS friendTalkButton1Type,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[1].name'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[1].name'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[1].name'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[1].name'
							ELSE ''
						END AS friendTalkButton1Name,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[1].linkMo'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[1].linkMo'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[1].linkMo'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[1].linkMo'
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[1].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[1].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[1].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[1].linkAnd'
							ELSE ''
						END AS friendTalkButton1LinkUrl1,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[1].linkPc'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[1].linkPc'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[1].linkPc'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[1].linkPc'
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[1].linkIos'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[1].linkIos'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[1].linkIos'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton1Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[1].linkIos'
							ELSE ''
						END AS friendTalkButton1LinkUrl2,
					@friendTalkButton2Type :=
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[2].linkType'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[2].linkType'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[2].linkType'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[2].linkType'
							ELSE ''
						END AS friendTalkButton2Type,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[2].name'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[2].name'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[2].name'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[2].name'
							ELSE ''
						END AS friendTalkButton2Name,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[2].linkMo'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[2].linkMo'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[2].linkMo'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[2].linkMo'
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[2].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[2].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[2].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[2].linkAnd'
							ELSE ''
						END AS friendTalkButton2LinkUrl1,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[2].linkPc'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[2].linkPc'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[2].linkPc'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[2].linkPc'
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[2].linkIos'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[2].linkIos'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[2].linkIos'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton2Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[2].linkIos'
							ELSE ''
						END AS friendTalkButton2LinkUrl2,
					@friendTalkButton3Type :=
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[3].linkType'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[3].linkType'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[3].linkType'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[3].linkType'
							ELSE ''
						END AS friendTalkButton3Type,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[3].name'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[3].name'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[3].name'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[3].name'
							ELSE ''
						END AS friendTalkButton3Name,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[3].linkMo'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[3].linkMo'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[3].linkMo'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[3].linkMo'
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[3].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[3].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[3].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[3].linkAnd'
							ELSE ''
						END AS friendTalkButton3LinkUrl1,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[3].linkPc'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[3].linkPc'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[3].linkPc'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[3].linkPc'
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[3].linkIos'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[3].linkIos'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[3].linkIos'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton3Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[3].linkIos'
							ELSE ''
						END AS friendTalkButton3LinkUrl2,
					@friendTalkButton4Type :=
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[4].linkType'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[4].linkType'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[4].linkType'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[4].linkType'
							ELSE ''
						END AS friendTalkButton4Type,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[4].name'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[4].name'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[4].name'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[4].name'
							ELSE ''
						END AS friendTalkButton4Name,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[4].linkMo'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[4].linkMo'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[4].linkMo'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[4].linkMo'
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[4].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[4].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[4].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[4].linkAnd'
							ELSE ''
						END AS friendTalkButton4LinkUrl1,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[4].linkPc'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[4].linkPc'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[4].linkPc'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[4].linkPc'
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[4].linkIos'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[4].linkIos'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[4].linkIos'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'FRIENDTALK' and @friendTalkButton4Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[4].linkIos'
							ELSE ''
						END AS friendTalkButton4LinkUrl2,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' then 'ALIMTALK'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' then 'ALIMTALK'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' then 'ALIMTALK'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' then 'ALIMTALK'
						ELSE ''
					END AS alimTalkPrdType,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[0].data.senderKey'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[1].data.senderKey'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[2].data.senderKey'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[3].data.senderKey'
						ELSE ''
					END AS alimTalkSenderKey,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[0].data.subData.tmpltName'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[1].data.subData.tmpltName'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[2].data.subData.tmpltName'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[3].data.subData.tmpltName'
						ELSE ''
					END AS alimTalkTmpltName,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[0].data.subData.emphasizeType'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[1].data.subData.emphasizeType'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[2].data.subData.emphasizeType'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[3].data.subData.emphasizeType'
						ELSE ''
					END AS alimTalkEmphasizeType,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[0].data.subData.tmpltEmpsTitle'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[1].data.subData.tmpltEmpsTitle'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[2].data.subData.tmpltEmpsTitle'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[3].data.subData.tmpltEmpsTitle'
						ELSE ''
					END AS alimTalkTmpltEmpsTitle,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[0].data.subData.tmpltEmpsSubTitle'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[1].data.subData.tmpltEmpsSubTitle'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[2].data.subData.tmpltEmpsSubTitle'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[3].data.subData.tmpltEmpsSubTitle'
						ELSE ''
					END AS alimTalkTmpltEmpsSubTitle,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[0].data.msg'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[1].data.msg'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[2].data.msg'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[3].data.msg'
						ELSE ''
					END AS alimTalkTmpltContent,
					@alimTalkButton0Type :=
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[0].linkType'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[0].linkType'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[0].linkType'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[0].linkType'
							WHEN A.TMPLT_INFO ->> '$[4].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[4].data.buttons[0].linkType'
							WHEN A.TMPLT_INFO ->> '$[5].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[5].data.buttons[0].linkType'
							WHEN A.TMPLT_INFO ->> '$[6].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[6].data.buttons[0].linkType'
							ELSE ''
						END AS alimTalkButton0Type,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[0].data.buttons[0].name'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[1].data.buttons[0].name'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[2].data.buttons[0].name'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[3].data.buttons[0].name'
							WHEN A.TMPLT_INFO ->> '$[4].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[4].data.buttons[0].name'
							WHEN A.TMPLT_INFO ->> '$[5].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[5].data.buttons[0].name'
							WHEN A.TMPLT_INFO ->> '$[6].ch' = 'ALIMTALK' then A.TMPLT_INFO ->> '$[6].data.buttons[0].name'
							ELSE ''
						END AS alimTalkButton0Name,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[0].linkMo'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[0].linkMo'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[0].linkMo'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[0].linkMo'
							WHEN A.TMPLT_INFO ->> '$[4].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[4].data.buttons[0].linkMo'
							WHEN A.TMPLT_INFO ->> '$[5].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[5].data.buttons[0].linkMo'
							WHEN A.TMPLT_INFO ->> '$[6].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[6].data.buttons[0].linkMo'
							ELSE ''
						END AS alimTalkButton0LinkMo,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[0].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[0].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[0].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[0].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[4].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[4].data.buttons[0].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[5].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[5].data.buttons[0].linkAnd'
							WHEN A.TMPLT_INFO ->> '$[6].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[6].data.buttons[0].linkAnd'
							ELSE ''
						END AS alimTalkButton0LinkAnd,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[0].data.buttons[0].linkPc'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[1].data.buttons[0].linkPc'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[2].data.buttons[0].linkPc'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[3].data.buttons[0].linkPc'
							WHEN A.TMPLT_INFO ->> '$[4].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[4].data.buttons[0].linkPc'
							WHEN A.TMPLT_INFO ->> '$[5].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[5].data.buttons[0].linkPc'
							WHEN A.TMPLT_INFO ->> '$[6].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'WL' then A.TMPLT_INFO ->> '$[6].data.buttons[0].linkPc'
							ELSE ''
						END AS alimTalkButton0LinkPc,
						CASE
							WHEN A.TMPLT_INFO ->> '$[0].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[0].data.buttons[0].linkIos'
							WHEN A.TMPLT_INFO ->> '$[1].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[1].data.buttons[0].linkIos'
							WHEN A.TMPLT_INFO ->> '$[2].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[2].data.buttons[0].linkIos'
							WHEN A.TMPLT_INFO ->> '$[3].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[3].data.buttons[0].linkIos'
							WHEN A.TMPLT_INFO ->> '$[4].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[4].data.buttons[0].linkIos'
							WHEN A.TMPLT_INFO ->> '$[5].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[5].data.buttons[0].linkIos'
							WHEN A.TMPLT_INFO ->> '$[6].ch' = 'ALIMTALK' and @alimTalkButton0Type = 'AL' then A.TMPLT_INFO ->> '$[6].data.buttons[0].linkIos'
							ELSE ''
						END AS alimTalkButton0LinkIos,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'SMS' then 'S' WHEN A.TMPLT_INFO ->> '$[0].ch' = 'MMS' then 'M'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'SMS' then 'S' WHEN A.TMPLT_INFO ->> '$[1].ch' = 'MMS' then 'M'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'SMS' then 'S' WHEN A.TMPLT_INFO ->> '$[2].ch' = 'MMS' then 'M'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'SMS' then 'S' WHEN A.TMPLT_INFO ->> '$[3].ch' = 'MMS' then 'M'
						ELSE ''
					END AS smsSendType,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'SMS' then A.TMPLT_INFO ->> '$[0].data.callback' WHEN A.TMPLT_INFO ->> '$[0].ch' = 'MMS' then A.TMPLT_INFO ->> '$[0].data.callback'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'SMS' then A.TMPLT_INFO ->> '$[1].data.callback' WHEN A.TMPLT_INFO ->> '$[1].ch' = 'MMS' then A.TMPLT_INFO ->> '$[1].data.callback'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'SMS' then A.TMPLT_INFO ->> '$[2].data.callback'  WHEN A.TMPLT_INFO ->> '$[2].ch' = 'MMS' then A.TMPLT_INFO ->> '$[2].data.callback'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'SMS' then A.TMPLT_INFO ->> '$[3].data.callback' WHEN A.TMPLT_INFO ->> '$[3].ch' = 'MMS' then A.TMPLT_INFO ->> '$[3].data.callback'
						ELSE ''
					END AS smsCallback,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'SMS' then A.TMPLT_INFO ->> '$[0].data.msg' WHEN A.TMPLT_INFO ->> '$[0].ch' = 'MMS' then A.TMPLT_INFO ->> '$[0].data.msg'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'SMS' then A.TMPLT_INFO ->> '$[1].data.msg' WHEN A.TMPLT_INFO ->> '$[1].ch' = 'MMS' then A.TMPLT_INFO ->> '$[1].data.msg'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'SMS' then A.TMPLT_INFO ->> '$[2].data.msg' WHEN A.TMPLT_INFO ->> '$[2].ch' = 'MMS' then A.TMPLT_INFO ->> '$[2].data.msg'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'SMS' then A.TMPLT_INFO ->> '$[3].data.msg' WHEN A.TMPLT_INFO ->> '$[3].ch' = 'MMS' then A.TMPLT_INFO ->> '$[3].data.msg'
						ELSE ''
					END AS smsContent,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'SMS' then A.TMPLT_INFO ->> '$[0].data.rcvblcInput' WHEN A.TMPLT_INFO ->> '$[0].ch' = 'MMS' then A.TMPLT_INFO ->> '$[0].data.rcvblcInput'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'SMS' then A.TMPLT_INFO ->> '$[1].data.rcvblcInput' WHEN A.TMPLT_INFO ->> '$[1].ch' = 'MMS' then A.TMPLT_INFO ->> '$[1].data.rcvblcInput'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'SMS' then A.TMPLT_INFO ->> '$[2].data.rcvblcInput' WHEN A.TMPLT_INFO ->> '$[2].ch' = 'MMS' then A.TMPLT_INFO ->> '$[2].data.rcvblcInput'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'SMS' then A.TMPLT_INFO ->> '$[3].data.rcvblcInput' WHEN A.TMPLT_INFO ->> '$[3].ch' = 'MMS' then A.TMPLT_INFO ->> '$[3].data.rcvblcInput'
						ELSE ''
					END AS smsRcvblcNumber,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'MMS' then A.TMPLT_INFO ->> '$[0].data.title'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'MMS' then A.TMPLT_INFO ->> '$[1].data.title'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'MMS' then A.TMPLT_INFO ->> '$[2].data.title'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'MMS' then A.TMPLT_INFO ->> '$[3].data.title'
						ELSE ''
					END AS smsTitle,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'MMS' then A.TMPLT_INFO ->> '$[0].data.fileIdLst[0]'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'MMS' then A.TMPLT_INFO ->> '$[1].data.fileIdLst[0]'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'MMS' then A.TMPLT_INFO ->> '$[2].data.fileIdLst[0]'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'MMS' then A.TMPLT_INFO ->> '$[3].data.fileIdLst[0]'
						ELSE ''
					END AS smsFileId0,
					CASE
						WHEN A.TMPLT_INFO ->> '$[0].ch' = 'MMS' then A.TMPLT_INFO ->> '$[0].data.fileIdLst[1]'
						WHEN A.TMPLT_INFO ->> '$[1].ch' = 'MMS' then A.TMPLT_INFO ->> '$[1].data.fileIdLst[1]'
						WHEN A.TMPLT_INFO ->> '$[2].ch' = 'MMS' then A.TMPLT_INFO ->> '$[2].data.fileIdLst[1]'
						WHEN A.TMPLT_INFO ->> '$[3].ch' = 'MMS' then A.TMPLT_INFO ->> '$[3].data.fileIdLst[1]'
						ELSE ''
					END AS smsFileId1
				FROM cm.CM_SMART_TMPLT A
				WHERE 1=1
				AND A.TMPLT_TYPE = 'M'
				AND A.TMPLT_CODE = #{multiSendTmpltCode}
			) T
			LEFT OUTER JOIN cm_console.CM_IMAGE_FILE B
				ON T.pushFileId = B.FILE_ID
			LEFT OUTER JOIN cm_console.CM_IMAGE_FILE sms0
				ON T.smsFileId0 = sms0.FILE_ID
			LEFT OUTER JOIN cm_console.CM_IMAGE_FILE sms1
				ON T.smsFileId1 = sms1.FILE_ID
		) M
	</select>

	<insert id="insertMultiSendTemplate" parameterType="hashmap">
		/* integraedtemplate.insertMultiSendTemplate - 통합 템플릿 등록 */
		INSERT
			INTO cm.CM_SMART_TMPLT
		(
			PROJECT_ID
            , TMPLT_CODE
            , MSG_KIND
            , MSG_TYPE
            , TMPLT_TITLE
			, TMPLT_INFO
			, TMPLT_TYPE
			, TMPLT_STATUS
			, USE_YN
            , REG_DT
            , REG_ID
            , UPD_DT
            , UPD_ID
            , CORP_ID
        ) VALUES (
            #{projectId}
            , #{multiSendTmpltCode}
            , #{msgKind}
            , #{msgType}
            , #{tmpltTitle}
            , #{tmpltInfo}
            , #{tmpltType}
			, #{tmpltStatus}
			, #{useYn}
            , NOW()
            , #{userId}
            , NOW()
            , #{userId}
            , #{corpId}
        )
        ON DUPLICATE KEY UPDATE MSG_KIND = #{msgKind}
					            , MSG_TYPE = #{msgType}
					            , TMPLT_TITLE = #{tmpltTitle}
					            , TMPLT_INFO = #{tmpltInfo}
					            , TMPLT_TYPE = #{tmpltType}
					            , TMPLT_STATUS = #{tmpltStatus}
					            , USE_YN = #{useYn}
					            , UPD_DT = NOW()
					            , UPD_ID = #{userId}
					            , CORP_ID = #{corpId}
    </insert>

	<update id="updateMultiSendTemplate" parameterType="hashmap">
		/* integraedtemplate.updateMultiSendTemplate - 통합 템플릿 수정 */
		UPDATE cm.CM_SMART_TMPLT
		SET
			MSG_KIND = #{msgKind},
			MSG_TYPE = #{msgType},
			TMPLT_TITLE = #{tmpltTitle},
			TMPLT_INFO = #{tmpltInfo},
			TMPLT_TYPE = #{tmpltType},
			TMPLT_STATUS = #{tmpltStatus},
			UPD_DT = NOW(),
			UPD_ID = #{userId},
			CORP_ID = #{corpId}
		WHERE PROJECT_ID = #{projectId}
		AND TMPLT_CODE = #{tmpltCode}
	</update>


	<delete id="deleteMultiSendTemplate" parameterType="hashmap">
		/* integraedtemplate.deleteMultiSendTemplate - 통합 템플릿 삭제 */
		DELETE
		FROM cm.CM_SMART_TMPLT
		WHERE 1=1
		AND TMPLT_TYPE = 'M'
		AND TMPLT_CODE IN <foreach collection="tmpltCodes" item="item" index="index"  open="(" close=")" separator=",">#{item}</foreach>
	</delete>

</mapper>